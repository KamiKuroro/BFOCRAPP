{"ast":null,"code":"import _classCallCheck from\"/Users/kamikuroro/bfocr-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kamikuroro/bfocr-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kamikuroro/bfocr-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kamikuroro/bfocr-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';var Tesseract=window.Tesseract;var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleChange=function(event){if(event.target.files[0]){var uploads=[];for(var key in event.target.files){if(!event.target.files.hasOwnProperty(key))continue;var upload=event.target.files[key];uploads.push(URL.createObjectURL(upload));}_this.setState({uploads:uploads});}else{_this.setState({uploads:[]});}};_this.generateText=function(){var uploads=_this.state.uploads;for(var i=0;i<uploads.length;i++){Tesseract.recognize(uploads[i],'eng',{logger:function logger(m){return console.log(m);}}).catch(function(err){console.error(err);}).then(function(result){// Update state\n_this.setState({textResult:result.text});console.log(result.text);});}};_this.state={uploads:[],textResult:''};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"header\",{className:\"header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"BrunchFace OCR App\")),/*#__PURE__*/React.createElement(\"section\",{className:\"hero\"},/*#__PURE__*/React.createElement(\"label\",{className:\"fileUploaderContainer\"},\"Click here to upload documents\",/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"fileUploader\",onChange:this.handleChange,multiple:true})),/*#__PURE__*/React.createElement(\"div\",null,this.state.uploads.map(function(value,index){return/*#__PURE__*/React.createElement(\"img\",{key:index,src:value,width:\"100px\"});})),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",onClick:this.generateText},\"Generate\")),/*#__PURE__*/React.createElement(\"section\",{className:\"results\"},/*#__PURE__*/React.createElement(\"p\",null,this.state.textResult)));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/kamikuroro/bfocr-app/src/App.js"],"names":["React","Component","Tesseract","window","App","props","handleChange","event","target","files","uploads","key","hasOwnProperty","upload","push","URL","createObjectURL","setState","generateText","state","i","length","recognize","logger","m","console","log","catch","err","error","then","result","textResult","text","map","value","index"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CAEA,GAAIC,CAAAA,SAAS,CAAGC,MAAM,CAACD,SAAvB,C,GAEME,CAAAA,G,0FAEJ,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MAQnBC,YARmB,CAQJ,SAACC,KAAD,CAAW,CACxB,GAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAJ,CAA2B,CACzB,GAAIC,CAAAA,OAAO,CAAG,EAAd,CACA,IAAK,GAAIC,CAAAA,GAAT,GAAgBJ,CAAAA,KAAK,CAACC,MAAN,CAAaC,KAA7B,CAAoC,CAClC,GAAI,CAACF,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBG,cAAnB,CAAkCD,GAAlC,CAAL,CAA6C,SAC7C,GAAIE,CAAAA,MAAM,CAAGN,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBE,GAAnB,CAAb,CACAD,OAAO,CAACI,IAAR,CAAaC,GAAG,CAACC,eAAJ,CAAoBH,MAApB,CAAb,EACD,CACD,MAAKI,QAAL,CAAc,CACZP,OAAO,CAAEA,OADG,CAAd,EAGD,CAVD,IAUO,CACL,MAAKO,QAAL,CAAc,CACZP,OAAO,CAAE,EADG,CAAd,EAGD,CACF,CAxBkB,OA0BnBQ,YA1BmB,CA0BJ,UAAM,CACnB,GAAIR,CAAAA,OAAO,CAAG,MAAKS,KAAL,CAAWT,OAAzB,CAEA,IAAI,GAAIU,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAGV,OAAO,CAACW,MAA3B,CAAmCD,CAAC,EAApC,CAAwC,CACtClB,SAAS,CAACoB,SAAV,CACEZ,OAAO,CAACU,CAAD,CADT,CAEE,KAFF,CAGE,CAAEG,MAAM,CAAE,gBAAAC,CAAC,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAJ,EAAX,CAHF,EAKCG,KALD,CAKO,SAAAC,GAAG,CAAI,CACZH,OAAO,CAACI,KAAR,CAAcD,GAAd,EACD,CAPD,EAQCE,IARD,CAQM,SAAAC,MAAM,CAAI,CACd;AACA,MAAKd,QAAL,CAAc,CACZe,UAAU,CAAED,MAAM,CAACE,IADP,CAAd,EAGAR,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACE,IAAnB,EACD,CAdD,EAeD,CACF,CA9CkB,CAEjB,MAAKd,KAAL,CAAa,CACXT,OAAO,CAAE,EADE,CAEXsB,UAAU,CAAE,EAFD,CAAb,CAFiB,aAMlB,C,uDA0CQ,CACP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,8BAAQ,SAAS,CAAC,QAAlB,eACE,mDADF,CADF,cAME,+BAAS,SAAS,CAAC,MAAnB,eACE,6BAAO,SAAS,CAAC,uBAAjB,gDAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,cAAtB,CAAqC,QAAQ,CAAE,KAAK1B,YAApD,CAAkE,QAAQ,KAA1E,EAFF,CADF,cAME,+BACI,KAAKa,KAAL,CAAWT,OAAX,CAAmBwB,GAAnB,CAAuB,SAACC,KAAD,CAAQC,KAAR,CAAkB,CACzC,mBAAO,2BAAK,GAAG,CAAEA,KAAV,CAAiB,GAAG,CAAED,KAAtB,CAA6B,KAAK,CAAC,OAAnC,EAAP,CACD,CAFC,CADJ,CANF,cAYE,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,KAAKjB,YAAzC,aAZF,CANF,cAsBE,+BAAS,SAAS,CAAC,SAAnB,eACI,6BACG,KAAKC,KAAL,CAAWa,UADd,CADJ,CAtBF,CADF,CA8BD,C,iBAjFe/B,S,EAqFlB,cAAeG,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nvar Tesseract = window.Tesseract;\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      uploads: [],\n      textResult: '',\n    };\n  }\n\n  handleChange = (event) => {\n    if (event.target.files[0]) {\n      var uploads = []\n      for (var key in event.target.files) {\n        if (!event.target.files.hasOwnProperty(key)) continue;\n        let upload = event.target.files[key]\n        uploads.push(URL.createObjectURL(upload))\n      }\n      this.setState({\n        uploads: uploads\n      })\n    } else {\n      this.setState({\n        uploads: []\n      })\n    }\n  }\n\n  generateText = () => {\n    let uploads = this.state.uploads\n  \n    for(var i = 0; i < uploads.length; i++) {\n      Tesseract.recognize(\n        uploads[i], \n        'eng',\n        { logger: m => console.log(m) }\n      )\n      .catch(err => {\n        console.error(err)\n      })\n      .then(result => { \n        // Update state\n        this.setState({ \n          textResult: result.text\n        })\n        console.log(result.text);\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <header className=\"header\">\n          <h1>BrunchFace OCR App</h1>\n        </header>\n\n        { /* File uploader */ }\n        <section className=\"hero\">\n          <label className=\"fileUploaderContainer\">\n            Click here to upload documents\n            <input type=\"file\" id=\"fileUploader\" onChange={this.handleChange} multiple />\n          </label>\n\n          <div>\n            { this.state.uploads.map((value, index) => {\n              return <img key={index} src={value} width=\"100px\" />\n            }) }\n          </div>\n\n          <button className=\"button\" onClick={this.generateText}>Generate</button>\n        </section>\n\n        { /* Results */ }\n        <section className=\"results\">\n            <p>\n              {this.state.textResult}\n            </p>\n        </section>\n      </div>\n    )\n  }\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}